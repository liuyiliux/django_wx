"use strict";(self["webpackChunkwx_vue"]=self["webpackChunkwx_vue"]||[]).push([[588],{6588:function(e,t,l){l.r(t),l.d(t,{default:function(){return T}});var n=l(3396),o=l(7139);const i={style:{position:"relative"}},s=(0,n.Uk)("退出登录"),a={style:{width:"50%","margin-left":"25%"}},d=(0,n.Uk)("搜索 "),r={style:{},class:"mydiv"},u={style:{"margin-top":"-7px"}},c={style:{"font-size":"small",color:"gray"}},h=(0,n.Uk)("新增超链接请"),_={style:{"list-style":"none"},id:"myul"},p=(0,n._)("span",{class:"el-icon-lollipop",style:{color:"#e84393"}},null,-1),k=["href","title"],m=["onClick"],g=(0,n.Uk)("  "),w=["title"],y={id:"new_link_div",class:"",style:{display:"none",height:"100px",position:"fixed",top:"35%",left:"25%",width:"50%","box-shadow":"4px 4px 6px darkgray",border:"pink solid 2px"}},f={class:"",style:{width:"20%",height:"98px"}};function b(e,t,l,b,v,x){const $=(0,n.up)("el-button"),U=(0,n.up)("el-input");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[(0,n.Wm)($,{style:{position:"fixed",right:"0%"},type:"danger",size:"small",onClick:t[0]||(t[0]=e=>x.quit())},{default:(0,n.w5)((()=>[s])),_:1})]),(0,n._)("div",a,[(0,n.Wm)(U,{class:"ss-input",onInput:t[1]||(t[1]=e=>x.Search_act(e)),placeholder:"模糊搜索，请输入关键字",modelValue:v.ss_input,"onUpdate:modelValue":t[2]||(t[2]=e=>v.ss_input=e)},null,8,["modelValue"]),(0,n.Wm)($,{type:"button",style:{"border-radius":"0 50px 0 0","border-bottom":"none",outline:"none",height:"36px"}},{default:(0,n.w5)((()=>[d])),_:1})]),(0,n._)("div",r,[(0,n._)("h3",u,[(0,n.Uk)("欢迎"+(0,o.zw)(v.username)+"使用首页传送门： ",1),(0,n._)("span",c,[h,(0,n._)("a",{href:"#/home",onClick:t[3]||(t[3]=(...e)=>x.show_new_link_div&&x.show_new_link_div(...e))},"点击这里")])]),(0,n._)("ul",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.v_hrefs,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e},[p,(0,n._)("a",{href:e.url,target:"_blank",title:e.author+"创建"},(0,o.zw)(e.name),9,k),(0,n._)("a",{onClick:t=>x.delete_link(e.id),class:"el-icon-delete"},[g,(0,n._)("span",{style:{color:"#e84393",cursor:"pointer"},title:"刪除"+e.name},null,8,w)],8,m)])))),128)),(0,n._)("div",y,[(0,n.Wm)(U,{class:"",id:"new_link_name",type:"text",placeholder:"请输入超链接的名字",modelValue:v.new_link_name,"onUpdate:modelValue":t[4]||(t[4]=e=>v.new_link_name=e),style:{height:"50%",width:"80%"}},null,8,["modelValue"]),(0,n.Wm)(U,{class:"",id:"new_link_url",type:"text",placeholder:"请输入超链接的URL",modelValue:v.new_link_url,"onUpdate:modelValue":t[5]||(t[5]=e=>v.new_link_url=e),style:{height:"50%",width:"80%"}},null,8,["modelValue"]),(0,n._)("span",f,[(0,n._)("button",{onClick:t[6]||(t[6]=(...e)=>x.add_link&&x.add_link(...e)),class:"btn btn-default",type:"button",style:{height:"100%",outline:"none",width:"50%","border-left":"pink solid 2px","border-bottom":"pink solid 2px"}},"保存"),(0,n._)("button",{onClick:t[7]||(t[7]=(...e)=>x.uadd_link&&x.uadd_link(...e)),class:"btn btn-default",type:"button",style:{height:"100%",outline:"none",width:"50%","border-right":"pink solid 2px","border-bottom":"pink solid 2px"}},"取消")])])])])],64)}var v=l(6265),x=l.n(v),$={name:"HomeView",data(){return{v_hrefs:[],new_link_name:"",new_link_url:"",ss_input:"",username:this.$cookies.get("username")}},components:{},methods:{status_check(e){403==e.response.status&&(console.log("操作失败"+e),this.quit())},login_check(){var e=this.$cookies.get("login-token");console.log("首页页面"),console.log(e),null===e||"null"===e?this.$router.push("/"):console.log("登录了")},Search_act(e){x().get("api/geturl",{params:{event:e},headers:{"content-type":"application/json",AUTHORIZATION:"jwt "+this.$cookies.get("login-token")}}).then((e=>{this.v_hrefs=e.data.all_href})).catch((e=>{this.status_check(e)}))},quit(){this.$cookies.set("login-token",null,0),this.$cookies.set("username",null,0),this.$cookies.remove("login-token"),this.$cookies.remove("username"),this.$router.push("/")},show_new_link_div(){document.getElementById("new_link_div").style.display="block"},uadd_link(){document.getElementById("new_link_div").style.display="none"},geturl(){x().get("api/geturl",{headers:{"content-type":"application/json",AUTHORIZATION:"jwt "+this.$cookies.get("login-token")}}).then((e=>{this.v_hrefs=e.data.all_href})).catch((e=>{this.status_check(e)}))},delete_link(e){x().post("api/delete_href/",{id:e},{headers:{"content-type":"application/json",AUTHORIZATION:"jwt "+this.$cookies.get("login-token")}}).then((e=>{if(200==e.data.status)this.$message.info("删除成功"),document.location.reload();else{let t=this;t.$alert(e.data.error,"删除失败",{confirmButtonText:"确定",callback:e=>{document.location.reload()}})}})).catch((e=>{this.status_check(e)}))},add_link(){x().post("api/add_href/",{new_link_name:this.new_link_name,new_link_url:this.new_link_url},{headers:{"content-type":"application/json",AUTHORIZATION:"jwt "+this.$cookies.get("login-token")}}).then((e=>{if(200==e.data.status)this.$message.info("添加成功"),document.location.reload();else{let t=this;t.$alert(e.data.error,"添加失败",{confirmButtonText:"确定",callback:e=>{document.location.reload()}})}})).catch((e=>{this.status_check(e)}))}},mounted(){this.geturl(),this.login_check()}},U=l(89);const I=(0,U.Z)($,[["render",b]]);var T=I}}]);
//# sourceMappingURL=588.935d6f64.js.map