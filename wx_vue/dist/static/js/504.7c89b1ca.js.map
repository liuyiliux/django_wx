{"version":3,"file":"static/js/504.7c89b1ca.js","mappings":"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","sources":["webpack://wx_vue/./src/views/RegisterView.vue","webpack://wx_vue/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\r\n\t<div class=\"bg\">\r\n\t\t<div id=\"register\">\r\n\t\t\t<h2>注册页面</h2>\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"20%\">\r\n\t\t\t\t<el-form-item label=\"用户名:\">\r\n\t\t\t\t\t<el-input v-model=\"form.username\" placeholder=\"username\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"密  码:\">\r\n\t\t\t\t\t<el-input v-model=\"form.password\" type=\"password\" placeholder=\"password\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"邮 箱:\">\r\n\t\t\t\t\t<el-input v-model=\"form.email\" placeholder=\"email\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"验证码:\">\r\n\t\t\t\t\t<el-input v-model=\"form.emailcode\" style=\"width: 49%;margin-right: 2%;\"></el-input>\r\n\t\t\t\t\t<el-button type=\"primary\" :disabled=yzm_disabled style=\"width: 49%;\" @click=\"sendcode\">{{yzm_txt}}\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<el-button type=\"primary\" round @click=\"register\" class=\"btn\">注册</el-button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport {ElMessage} from 'element-plus' // eslint-disable-line no-unused-vars\r\n\timport axios from 'axios'\r\n\taxios.defaults.withCredentials = true;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttime: 0,\r\n\t\t\t\tyzm_disabled: false,\r\n\t\t\t\tyzm_txt: \"获取验证码\",\r\n\t\t\t\tform: {\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\temailcode: ''\r\n\t\t\t\t},\r\n\t\t\t\tisnull: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents: {},\r\n\t\tmethods: {\r\n\t\t\tregister() {\r\n\t\t\t\tvar regstr = /^[a-zA-Z0-9_-]{3,15}$/\r\n\t\t\t\tif (this.form.username == '') {\r\n\t\t\t\t\tthis.$message.error('用户名不能为空');\r\n\t\t\t\t} else if (this.form.password == '') {\r\n\t\t\t\t\tthis.$message.error('密码不能为空');\r\n\t\t\t\t}  else if (this.form.emailcode == '') {\r\n\t\t\t\t\tthis.$message.error('验证码不能为空');\r\n\t\t\t\t} else if(!regstr.test(this.form.username)){\r\n\t\t\t\t\tthis.$message.error('用户名格式不正确(3-15字符的大小写字母和数字下划线)');\r\n\t\t\t\t} else if(!regstr.test(this.form.password)){\r\n\t\t\t\t\tthis.$message.error('密码格式不正确(3-15字符的大小写字母和数字下划线)');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\taxios.post('http://localhost:8000/api/register/', {\r\n\t\t\t\t\t\t\temailcode: this.form.emailcode,\r\n\t\t\t\t\t\t\tusername: this.form.username,\r\n\t\t\t\t\t\t\temail: this.form.email,\r\n\t\t\t\t\t\t\tpassword: this.form.password\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tif (res.data.status == 200) {\r\n\t\t\t\t\t\t\tlet self = this\r\n\t\t\t\t\t\t\tself.$confirm(\"注册成功\", \"是否返回登录页\", {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确认\",\r\n\t\t\t\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tdistinguishCancelAndClose: false, // 设置为true才会把右上角X和取消区分开来\r\n\t\t\t\t\t\t\t\tcloseOnClickModal: false\r\n\t\t\t\t\t\t\t}).then(function() {\r\n\t\t\t\t\t\t\t\tself.$router.push('/')\r\n\t\t\t\t\t\t\t}).catch(function(e) {\r\n\t\t\t\t\t\t\t\tif (e == 'cancel') {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"取消\");\r\n\t\t\t\t\t\t\t\t} else if (e == 'close') {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"取消\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.data.status == 202) {\r\n\t\t\t\t\t\t\tlet self = this\r\n\t\t\t\t\t\t\tself.$alert('用户名已存在', '注册失败', {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\tcallback: action => { // eslint-disable-line no-unused-vars\r\n\t\t\t\t\t\t\t\t\tthis.form.username = '',\r\n\t\t\t\t\t\t\t\t\tthis.form.password = ''\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.data.status == 203) {\r\n\t\t\t\t\t\t\tlet self = this\r\n\t\t\t\t\t\t\tself.$alert('验证码错误', '注册失败', {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\tcallback: action => { // eslint-disable-line no-unused-vars\r\n\t\t\t\t\t\t\t\t\tthis.form.emailcode = ''\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet self = this\r\n\t\t\t\t\t\t\tself.$alert(res.data.error, '注册失败', {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\tcallback: action => { // eslint-disable-line no-unused-vars\r\n\t\t\t\t\t\t\t\t\tthis.form.emailcode = ''\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log('操作失败' + err);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsendcode() {\r\n\t\t\t\tvar regEmail = /^[a-zA-Z0-9_-]+([-_.][a-zA-Z0-9_-]+)*@([a-zA-Z0-9_-]+[-.])+[a-zA-Z0-9_-]{2,5}$/;\r\n\t\t\t\tif (this.form.email == '') {\r\n\t\t\t\t\talert(\"请输入邮箱\");\r\n\t\t\t\t} else if (!regEmail.test(this.form.email)) {\r\n\t\t\t\t\talert(\"邮箱格式不正确\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.time = 60;\r\n\t\t\t\t\tthis.yzm_disabled = true;\r\n\t\t\t\t\tthis.timer();\r\n\t\t\t\t\taxios.post('http://localhost:8000/api/sendcode/', {\r\n\t\t\t\t\t\t\temail: this.form.email\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tconsole.log('发送成功'+res);\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log('操作失败' + err);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttimer() {\r\n\t\t\t\tif (this.time > 0) {\r\n\t\t\t\t\tthis.time--;\r\n\t\t\t\t\tthis.yzm_txt = this.time + \"s后重新获取\";\r\n\t\t\t\t\tsetTimeout(this.timer, 1000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.time = 0;\r\n\t\t\t\t\tthis.yzm_txt = \"获取验证码\";\r\n\t\t\t\t\tthis.yzm_disabled = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.bg {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground: url('../assets/login-bg3.jpg');\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\r\n\t#register {\r\n\t\tmin-height: 40%;\r\n\t\twidth: 350px;\r\n\t\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.25);\r\n\t\tbackground: #ffffff;\r\n\t\topacity: 0.85;\r\n\t\tposition: absolute;\r\n\t\ttop: 20%;\r\n\t\tleft: 40%;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/*横向*/\r\n\t\tpadding: 30px;\r\n\t}\r\n\r\n\t#register h2 {\r\n\t\tpadding-bottom: 30px;\r\n\t}\r\n\r\n\t.btn {\r\n\t\twidth: 60%;\r\n\t\tmargin: auto;\r\n\t}\r\n</style>\r\n","import { render } from \"./RegisterView.vue?vue&type=template&id=5b26f786&scoped=true\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=5b26f786&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\workspace\\\\django_wx\\\\wx_vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b26f786\"]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","_createElementBlock","_hoisted_3","_createVNode","_component_el_form","ref","model","$data","_component_el_form_item","label","_component_el_input","username","$event","placeholder","password","type","email","emailcode","style","_component_el_button","disabled","onClick","$options","round","axios","data","time","yzm_disabled","yzm_txt","form","isnull","components","methods","register","regstr","this","$message","error","test","then","res","status","self","$confirm","confirmButtonText","cancelButtonText","distinguishCancelAndClose","closeOnClickModal","$router","push","catch","e","console","log","$alert","callback","action","err","sendcode","regEmail","alert","timer","setTimeout","__exports__","render"],"sourceRoot":""}